(function(a){redux.field_objects=redux.field_objects||{};redux.field_objects.spectrum=redux.field_objects.spectrum||{};redux.field_objects.spectrum.fieldID="";redux.field_objects.spectrum.hexToRGBA=function(h,i){if(h===null){c=""}else{h=h.replace("#","");var f=parseInt(h.substring(0,2),16);var e=parseInt(h.substring(2,4),16);var d=parseInt(h.substring(4,6),16);var c="rgba("+f+","+e+","+d+","+i+")"}return c};redux.field_objects.spectrum.init=function(b){if(!b){b=a(document).find(".redux-group-tab:visible").find(".redux-container-spectrum:visible")}a(b).each(function(){var d=a(this);var c=d;if(!d.hasClass("redux-field-container")){c=d.parents(".redux-field-container:first")}if(c.is(":hidden")){return}if(c.hasClass("redux-field-init")){c.removeClass("redux-field-init")}else{return}redux.field_objects.spectrum.modInit(d);redux.field_objects.spectrum.initColorPicker(d)})};redux.field_objects.spectrum.modInit=function(d){redux.field_objects.spectrum.fieldID=d.find(".redux-spectrum-container").data("id");var e=Boolean(d.find(".redux-spectrum-container").data("dev-mode"));if(e===true){var b=a(".redux-spectrum-container").data("version");var c=a("div.redux-timer").html();if(c!==undefined){var f=c.indexOf("Spectrum Color Picker");if(f===-1){a("div.redux-timer").html(c+"<br/>Spectrum Color Picker extension v."+b)}}}};redux.field_objects.spectrum.initColorPicker=function(e){var f=redux.field_objects.spectrum.fieldID;var t=e.find(".redux-spectrum");var w=t.data("current-alpha");w=Number((w===null||w===undefined)?1:w);var i=t.data("current-color");i=(i==="")?"":i;var l=e.find(".redux-spectrum-container");var s=l.data("palette");s=decodeURIComponent(s);s=JSON.parse(s);if(s===null){s=[["#000000","#434343","#666666","#999999","#b7b7b7","#cccccc","#d9d9d9","#efefef","#f3f3f3","#ffffff"],["#980000","#ff0000","#ff9900","#ffff00","#00ff00","#00ffff","#4a86e8","#0000ff","#9900ff","#ff00ff"],["#e6b8af","#f4cccc","#fce5cd","#fff2cc","#d9ead3","#d9ead3","#c9daf8","#cfe2f3","#d9d2e9","#ead1dc"],["#dd7e6b","#ea9999","#f9cb9c","#ffe599","#b6d7a8","#a2c4c9","#a4c2f4","#9fc5e8","#b4a7d6","#d5a6bd"],["#cc4125","#e06666","#f6b26b","#ffd966","#93c47d","#76a5af","#6d9eeb","#6fa8dc","#8e7cc3","#c27ba0"],["#a61c00","#cc0000","#e69138","#f1c232","#6aa84f","#45818e","#3c78d8","#3d85c6","#674ea7","#a64d79"],["#85200c","#990000","#b45f06","#bf9000","#38761d","#134f5c","#1155cc","#0b5394","#351c75","#741b47"],["#5b0f00","#660000","#783f04","#7f6000","#274e13","#0c343d","#1c4587","#073763","#20124d","#4c1130"]]}var v=l.data("show-input");v=Boolean((v==="")?false:v);var j=l.data("show-initial");j=Boolean((j==="")?false:j);var n=l.data("show-alpha");n=Boolean((n==="")?false:n);var o=l.data("allow-empty");o=Boolean((o==="")?false:o);var q=l.data("show-palette");q=Boolean((q==="")?false:q);var d=l.data("show-palette-only");d=Boolean((d==="")?false:d);var k=l.data("show-selection-palette");k=Boolean((k==="")?false:k);var c=Number(l.data("max-palette-size"));var r=l.data("clickout-fires-change");r=Boolean((r==="")?false:r);var b=String(l.data("choose-text"));var h=String(l.data("cancel-text"));var u=String(l.data("input-text"));var p=l.data("show-buttons");p=Boolean((p==="")?false:p);var g=String(l.data("container-class"));var m=String(l.data("replacer-class"));t.spectrum({color:i,showAlpha:n,showInput:v,allowEmpty:o,className:"rdx-full-spectrum",showInitial:j,showPalette:q,showSelectionPalette:k,maxPaletteSize:c,showPaletteOnly:d,clickoutFiresChange:r,chooseText:b,cancelText:h,showButtons:p,containerClassName:g,replacerClassName:m,preferredFormat:"hex6",localStorageKey:"redux.spectrum."+f,palette:s,inputText:u,change:function(z){var A,y;if(z===null){A=null;y=null}else{A=z.toHexString();y=z.alpha}var B=redux.field_objects.spectrum.hexToRGBA(A,y);var x=a(this).data("block-id");e.find("input#"+x+"-color").val(A);e.find("input#"+x+"-alpha").val(y);e.find("input#"+x+"-rgba").val(B);redux_change(e.find(".redux-spectrum-container"))}})}})(jQuery);