function collapse(e){var t=e.target,n=t.parentNode.getElementsByClassName("collapsible");if(n.length){if("none"===(n=n[0]).style.display){var a=n.parentNode.getElementsByClassName("ellipsis")[0];n.parentNode.removeChild(a),n.style.display=""}else{n.style.display="none",(a=document.createElement("span")).className="ellipsis",a.innerHTML=" &hellip; ",n.parentNode.insertBefore(a,n)}t.innerHTML="-"===t.innerHTML?"+":"-"}}function addCollapser(e){if("LI"===e.nodeName){var t=document.createElement("div");t.className="collapser",t.innerHTML="-",t.addEventListener("click",collapse,!1),e.insertBefore(t,e.firstChild)}}function jsonView(e,t){if(this.debug=!1,-1!==e.indexOf("#"))this.idType="id",this.id=e.replace("#","");else{if(-1===e.indexOf("."))return void(this.debug&&console.log("Can't find that element"));this.idType="class",this.id=e.replace(".","")}if(this.data=document.getElementById(this.id).innerHTML,void 0!==typeof t)if(-1!==t.indexOf("#"))this.targetType="id",this.target=t.replace("#","");else{if(-1===e.indexOf("."))return void(this.debug&&console.log("Can't find the target element"));this.targetType="class",this.target=t.replace(".","")}/^\<pre.*\>(.*)\<\/pre\>$/.test(this.data)&&(this.debug&&console.log("JSONView: data is wrapped in <pre>...</pre>, stripping HTML..."),this.data=this.data.replace(/<(?:.|\s)*?>/g,""));var n=/^[\s\u200B\uFEFF]*([\w$\[\]\.]+)[\s\u200B\uFEFF]*\([\s\u200B\uFEFF]*([\[{][\s\S]*[\]}])[\s\u200B\uFEFF]*\);?[\s\u200B\uFEFF]*$/,a=/^\s*([\[\{].*[\}\]])\s*$/.test(this.data),r=n.test(this.data);if(this.debug&&console.log("JSONView: is_json="+a+" is_jsonp="+r),a||r){function i(){}this.debug&&console.log("JSONView: sexytime!"),i.prototype={htmlEncode:function(e){return null!=e?e.toString().replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):""},decorateWithSpan:function(e,t){return'<span class="'+t+'">'+this.htmlEncode(e)+"</span>"},valueToHTML:function(e){var t=typeof e,n="";return null===e?n+=this.decorateWithSpan("null","null"):e&&e.constructor===Array?n+=this.arrayToHTML(e):"object"===t?n+=this.objectToHTML(e):"number"===t?n+=this.decorateWithSpan(e,"num"):"string"===t?/^(http|https):\/\/[^\s]+$/.test(e)?n+='<a href="'+e+'">'+this.htmlEncode(e)+"</a>":n+=this.decorateWithSpan('"'+e+'"',"string"):"boolean"===t&&(n+=this.decorateWithSpan(e,"bool")),n},arrayToHTML:function(e){var t='[<ul class="array collapsible">',n=!1;for(var a in e)n=!0,t+="<li>",t+=this.valueToHTML(e[a]),t+="</li>";return t+="</ul>]",n||(t="[ ]"),t},objectToHTML:function(e){var t='{<ul class="obj collapsible">',n=!1;for(var a in e)n=!0,t+="<li>",t+='<span class="prop">'+this.htmlEncode(a)+"</span>: ",t+=this.valueToHTML(e[a]),t+="</li>";return t+="</ul>}",n||(t="{ }"),t},jsonToHTML:function(e,t,n){var a="";return t&&(a+='<div class="callback">'+t+" (</div>"),a+='<div id="json">',a+=this.valueToHTML(e),a+="</div>",t&&(a+='<div class="callback">)</div>'),this.toHTML(a,n)},errorPage:function(e,t,n){var a='<div id="error">Error parsing JSON: '+e.message+"</div>";return a+="<h1>"+e.stack+":</h1>",a+='<div id="json">'+this.htmlEncode(t)+"</div>",this.toHTML(a,n+" - Error")},toHTML:function(e){return e}},this.jsonFormatter=new i;var o="",l="",s="",c=n.exec(this.data);l=c&&3===c.length?(this.debug&&console.log("THIS IS JSONp"),s=c[1],c[2]):(this.debug&&console.log("Vanilla JSON"),this.data),this.debug&&console.log(l);try{var u=JSON.parse(l);if(!u)throw"There was no object!";o=this.jsonFormatter.jsonToHTML(u,s)}catch(e){this.debug&&console.log(e),o=this.jsonFormatter.errorPage(e,this.data)}var p,d="<style type=\"text/css\">.jsonViewOutput .prop{font-weight:700;}.jsonViewOutput .null{color:red;}.jsonViewOutput .string{color:green;}.jsonViewOutput .collapser{position:absolute;left:-1em;cursor:pointer;}.jsonViewOutput li{position:relative;}.jsonViewOutput li:after{content:',';}.jsonViewOutput li:last-child:after{content:'';}.jsonViewOutput #error{-moz-border-radius:8px;border:1px solid #970000;background-color:#F7E8E8;margin:.5em;padding:.5em;}.jsonViewOutput .errormessage{font-family:monospace;}.jsonViewOutput #json{font-family:monospace;font-size:1.1em;}.jsonViewOutput ul{list-style:none;margin:0 0 0 2em;padding:0;}.jsonViewOutput h1{font-size:1.2em;}.jsonViewOutput .callback + #json{padding-left:1em;}.jsonViewOutput .callback{font-family:monospace;color:#A52A2A;}.jsonViewOutput .bool,.jsonViewOutput .num{color:blue;}</style>";void 0!==this.targetType&&(this.idType=this.targetType,this.id=this.target),"class"===this.idType?(p=document.getElementsByClassName(this.id))&&(p.className+=p.className?" jsonViewOutput":"jsonViewOutput",p.innerHTML=d+o):"id"===this.idType&&((p=document.getElementById(this.id))&&(p.className+=p.className?" jsonViewOutput":"jsonViewOutput",p.innerHTML=d+o),p.innerHTML=d+o);for(var h=document.getElementsByClassName("collapsible"),f=0;f<h.length;f++)addCollapser(h[f].parentNode)}}!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(f){var a=/\+/g;function g(e){return v.raw?e:encodeURIComponent(e)}function m(e,t){var n=v.raw?e:function(e){0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return e=decodeURIComponent(e.replace(a," ")),v.json?JSON.parse(e):e}catch(e){}}(e);return f.isFunction(t)?t(n):n}var v=f.cookie=function(e,t,n){if(1<arguments.length&&!f.isFunction(t)){if("number"==typeof(n=f.extend({},v.defaults,n)).expires){var a=n.expires,r=n.expires=new Date;r.setMilliseconds(r.getMilliseconds()+864e5*a)}return document.cookie=[g(e),"=",(i=t,g(v.json?JSON.stringify(i):String(i))),n.expires?"; expires="+n.expires.toUTCString():"",n.path?"; path="+n.path:"",n.domain?"; domain="+n.domain:"",n.secure?"; secure":""].join("")}for(var i,o,l=e?void 0:{},s=document.cookie?document.cookie.split("; "):[],c=0,u=s.length;c<u;c++){var p=s[c].split("="),d=(o=p.shift(),v.raw?o:decodeURIComponent(o)),h=p.join("=");if(e===d){l=m(h,t);break}e||void 0===(h=m(h))||(l[d]=h)}return l};v.defaults={},f.removeCookie=function(e,t){return f.cookie(e,"",f.extend({},t,{expires:-1})),!f.cookie(e)}}),function(s){s.fn.alphanum=function(e){return n(this,m,o(e)),this},s.fn.alpha=function(e){return n(this,m,o(e,o("alpha"))),this},s.fn.numeric=function(e){return n(this,T,h(e)),this.blur(function(){!function(e,t){var n=parseFloat(s(e).val()),a=s(e);if(isNaN(n))return a.val("");i(t.min)&&n<t.min&&a.val("");i(t.max)&&n>t.max&&a.val("")}(this,e)}),this};var e,t,c={allow:"",disallow:"",allowSpace:!0,allowNumeric:!0,allowUpper:!0,allowLower:!0,allowCaseless:!0,allowLatin:!0,allowOtherCharSets:!0,maxLength:NaN},a={allowPlus:!1,allowMinus:!0,allowThouSep:!0,allowDecSep:!0,allowLeadingSpaces:!1,maxDigits:NaN,maxDecimalPlaces:NaN,maxPreDecimalPlaces:NaN,max:NaN,min:NaN},u={alpha:{allowNumeric:!1},upper:{allowNumeric:!1,allowUpper:!0,allowLower:!1,allowCaseless:!0},lower:{allowNumeric:!1,allowUpper:!1,allowLower:!0,allowCaseless:!0}},r={integer:{allowPlus:!1,allowMinus:!0,allowThouSep:!1,allowDecSep:!1},positiveInteger:{allowPlus:!1,allowMinus:!1,allowThouSep:!1,allowDecSep:!1}},p="!@#$%^&*()+=[]\\';,/{}|\":<>?~`.-_ ¬€£¦",l=",",d=".",v=function(){var e,t="0123456789".split(""),n={},a=0;for(a=0;a<t.length;a++)e=t[a],n[e]=!0;return n}(),w=(t=(e="abcdefghijklmnopqrstuvwxyz").toUpperCase(),new y(e+t));function n(e,u,p){e.each(function(){var c=s(this);c.bind("keyup change paste",function(e){var t="";e.originalEvent&&e.originalEvent.clipboardData&&e.originalEvent.clipboardData.getData&&(t=e.originalEvent.clipboardData.getData("text/plain")),setTimeout(function(){!function(e,t,n,a){var r=e.val();""==r&&0<a.length&&(r=a);var i=t(r,n);if(r==i)return;var o=e.alphanum_caret();e.val(i),r.length==i.length+1?e.alphanum_caret(o-1):e.alphanum_caret(o)}(c,u,p,t)},0)}),c.bind("keypress",function(e){var t=e.charCode?e.charCode:e.which;if((32<=(n=t)||10==n||13==n)&&!e.ctrlKey&&!e.metaKey){var n,a=String.fromCharCode(t),r=c.selection(),i=r.start,o=r.end,l=c.val(),s=l.substring(0,i)+a+l.substring(o);u(s,p)!=s&&e.preventDefault()}})})}function i(e){return!isNaN(e)}function o(e,t){void 0===t&&(t=c);var n,a,r,i,o,l={};return n="string"==typeof e?u[e]:void 0===e?{}:e,s.extend(l,t,n),void 0===l.blacklist&&(l.blacklistSet=(a=l.allow,r=l.disallow,i=new y(p+r),o=new y(a),i.subtract(o))),l}function h(e){var t,n={};return t="string"==typeof e?r[e]:void 0===e?{}:e,s.extend(n,a,t),n}function f(e,t,n){if(v[t])return!function(e,t){var n=t.maxDigits;if(""==n||isNaN(n))return!1;var a=g(e);return n<=a}(e,n)&&(!function(e,t){var n=t.maxPreDecimalPlaces;if(""==n||isNaN(n))return!1;if(0<=e.indexOf(d))return!1;var a=g(e);return n<=a}(e,n)&&(!function(e,t){var n=t.maxDecimalPlaces;if(""==n||isNaN(n))return!1;var a=e.indexOf(d);if(-1==a)return!1;var r=g(e.substring(a));return n<=r}(e,n)&&(i=e+t,(!(o=n).max||o.max<0||!(parseFloat(i)>o.max))&&(a=e+t,!(r=n).min||0<r.min||!(parseFloat(a)<r.min)))));var a,r,i,o;if(n.allowPlus&&"+"==t&&""==e)return!0;if(n.allowMinus&&"-"==t&&""==e)return!0;if(t==l&&n.allowThouSep&&function(e,t){if(0==e.length)return!1;if(0<=e.indexOf(d))return!1;var n=e.indexOf(l);if(n<0)return!0;var a=e.lastIndexOf(l);return!(e.length-a-1<3||0<g(e.substring(n))%3)}(e))return!0;if(t==d){if(0<=e.indexOf(d))return!1;if(n.allowDecSep)return!0}return!1}function g(e){return(e+="").replace(/[^0-9]/g,"").length}function m(e,t){if("string"!=typeof e)return e;var n,a,r,i,o,l,s,c,u,p,d,h=e.split(""),f=[],g=0;for(g=0;g<h.length;g++){n=h[g];var m=f.join("");a=m,r=n,d=p=u=c=s=l=o=void 0,(i=t).maxLength&&a.length>=i.maxLength||!(0<=i.allow.indexOf(r)||i.allowSpace&&" "==r)&&(i.blacklistSet.contains(r)||!i.allowNumeric&&v[r]||!i.allowUpper&&(l=(o=r).toUpperCase(),s=o.toLowerCase(),o==l&&l!=s)||!i.allowLower&&(u=(c=r).toUpperCase(),p=c.toLowerCase(),c==p&&u!=p)||!i.allowCaseless&&(d=r).toUpperCase()==d.toLowerCase()||!i.allowLatin&&w.contains(r)||!(i.allowOtherCharSets||v[r]||w.contains(r)))||f.push(n)}return f.join("")}function T(e,t){if("string"!=typeof e)return e;var n,a=e.split(""),r=[],i=0;for(i=0;i<a.length;i++){n=a[i],f(r.join(""),n,t)&&r.push(n)}return r.join("")}function y(e){this.map="string"==typeof e?function(e){var t,n={},a=e.split(""),r=0;for(r=0;r<a.length;r++)t=a[r],n[t]=!0;return n}(e):{}}y.prototype.add=function(e){var t=this.clone();for(var n in e.map)t.map[n]=!0;return t},y.prototype.subtract=function(e){var t=this.clone();for(var n in e.map)delete t.map[n];return t},y.prototype.contains=function(e){return!!this.map[e]},y.prototype.clone=function(){var e=new y;for(var t in this.map)e.map[t]=!0;return e},s.fn.alphanum.backdoorAlphaNum=function(e,t){return m(e,o(t))},s.fn.alphanum.backdoorNumeric=function(e,t){return T(e,h(t))},s.fn.alphanum.setNumericSeparators=function(e){1==e.thousandsSeparator.length&&1==e.decimalSeparator.length&&(l=e.thousandsSeparator,d=e.decimalSeparator)}}(jQuery),function(r){function i(e,t){if(e.createTextRange){var n=e.createTextRange();n.move("character",t),n.select()}else null!=e.selectionStart&&(e.focus(),e.setSelectionRange(t,t))}r.fn.alphanum_caret=function(n,a){return void 0===n?function(e){if("selection"in document){var t=e.createTextRange();try{t.setEndPoint("EndToStart",document.selection.createRange())}catch(e){return 0}return t.text.length}if(null!=e.selectionStart)return e.selectionStart}(this.get(0)):this.queue(function(e){if(isNaN(n)){var t=r(this).val().indexOf(n);!0===a?t+=n.length:void 0!==a&&(t+=a),i(this,t)}else i(this,n);e()})}}(jQuery),function(c){var u=function(e){return e?e.ownerDocument.defaultView||e.ownerDocument.parentWindow:window},p=function(e,t){var n=c.Range.current(e).clone(),a=c.Range(e).select(e);if(!n.overlaps(a))return null;if(n.compare("START_TO_START",a)<1){var r=0;n.move("START_TO_START",a)}else{var i=a.clone();i.move("END_TO_START",n),r=i.toString().length}return{start:r,end:0<=n.compare("END_TO_END",a)?a.toString().length:r+n.toString().length}},d=function(e,t,n){var a,r,i,o,l,s;n=n||0;for(var c=0;e[c];c++)3===(a=e[c]).nodeType||4===a.nodeType?(r=n,n+=a.nodeValue.length,i=r,o=n,s=a,"number"==typeof(l=t)[0]&&l[0]<o&&(l[0]={el:s,count:l[0]-i}),"number"==typeof l[1]&&l[1]<=o&&(l[1]={el:s,count:l[1]-i})):8!==a.nodeType&&(n=d(a.childNodes,t,n));return n};c.fn.selection=function(e,t){return void 0!==e?this.each(function(){!function(e,t,n){var a=u(e);if(e.setSelectionRange)void 0===n?(e.focus(),e.setSelectionRange(t,t)):(e.select(),e.selectionStart=t,e.selectionEnd=n);else if(e.createTextRange){var r=e.createTextRange();r.moveStart("character",t),n=n||t,r.moveEnd("character",n-e.value.length),r.select()}else if(a.getSelection){var i=a.document,o=a.getSelection(),l=i.createRange(),s=[t,void 0!==n?n:t];d([e],s),l.setStart(s[0].el,s[0].count),l.setEnd(s[1].el,s[1].count),o.removeAllRanges(),o.addRange(l)}else a.document.body.createTextRange&&((l=document.body.createTextRange()).moveToElementText(e),l.collapse(),l.moveStart("character",t),l.moveEnd("character",void 0!==n?n:t),l.select())}(this,e,t)}):function(t){var e=u(t);if(void 0!==t.selectionStart)return document.activeElement&&document.activeElement!==t&&t.selectionStart===t.selectionEnd&&0===t.selectionStart?{start:t.value.length,end:t.value.length}:{start:t.selectionStart,end:t.selectionEnd};if(e.getSelection)return p(t);try{if("input"===t.nodeName.toLowerCase()){var n=u(t).document.selection.createRange(),a=t.createTextRange();a.setEndPoint("EndToStart",n);var r=a.text.length;return{start:r,end:r+n.text.length}}var i=p(t);if(!i)return i;var o=c.Range.current().clone(),l=o.clone().collapse().range,s=o.clone().collapse(!1).range;return l.moveStart("character",-1),s.moveStart("character",-1),0!==i.startPos&&""===l.text&&(i.startPos+=2),0!==i.endPos&&""===s.text&&(i.endPos+=2),i}catch(e){return{start:t.value.length,end:t.value.length}}}(this[0])},c.fn.selection.getCharElement=d}(jQuery),function(o){o.fn.serializeForm=function(){if(this.length<1)return!1;var r={},i=r,e=':input[type!="checkbox"][type!="radio"], input:checked',t=function(){if(!this.disabled){var e=this.name.replace(/\[([^\]]+)?\]/g,",$1").split(","),t=e.length-1,n=o(this);if(e[0]){for(var a=0;a<t;a++)i=i[e[a]]=i[e[a]]||(""===e[a+1]||"0"===e[a+1]?[]:{});void 0!==i.length?i.push(n.val()):i[e[t]]=n.val(),i=r}}};return this.filter(e).each(t),this.find(e).each(t),r}}(jQuery),function(o){o.fn.typeWatch=function(e){var i=o.extend({wait:750,callback:function(){},highlight:!0,captureLength:2,inputTypes:["TEXT","TEXTAREA","PASSWORD","TEL","SEARCH","URL","EMAIL","DATETIME","DATE","MONTH","WEEK","TIME","DATETIME-LOCAL","NUMBER","RANGE"]},e);function t(e){var t=e.type.toUpperCase();if(0<=o.inArray(t,i.inputTypes)){var r={timer:null,text:o(e).val().toUpperCase(),cb:i.callback,el:e,wait:i.wait};i.highlight&&o(e).focus(function(){this.select()});o(e).on("keydown paste cut input",function(e){var t=r.wait,a=!1,n=this.type.toUpperCase();void 0!==e.keyCode&&13==e.keyCode&&"TEXTAREA"!=n&&0<=o.inArray(n,i.inputTypes)&&(t=1,a=!0);clearTimeout(r.timer),r.timer=setTimeout(function(){var e,t,n;t=a,((n=o((e=r).el).val()).length>=i.captureLength&&n.toUpperCase()!=e.text||t&&n.length>=i.captureLength)&&(e.text=n.toUpperCase(),e.cb.call(e.el,n))},t)})}}return this.each(function(){t(this)})}}(jQuery);