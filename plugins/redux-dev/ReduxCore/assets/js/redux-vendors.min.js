(function(factory){if(typeof define==="function"&&define.amd){define(["jquery"],factory)}else if(typeof exports==="object"){module.exports=factory(require("jquery"))}else{factory(jQuery)}})(function($){var pluses=/\+/g;function encode(s){return config.raw?s:encodeURIComponent(s)}function decode(s){return config.raw?s:decodeURIComponent(s)}function stringifyCookieValue(value){return encode(config.json?JSON.stringify(value):String(value))}function parseCookieValue(s){if(s.indexOf('"')===0){s=s.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\")}try{s=decodeURIComponent(s.replace(pluses," "));return config.json?JSON.parse(s):s}catch(e){}}function read(s,converter){var value=config.raw?s:parseCookieValue(s);return $.isFunction(converter)?converter(value):value}var config=$.cookie=function(key,value,options){if(arguments.length>1&&!$.isFunction(value)){options=$.extend({},config.defaults,options);if(typeof options.expires==="number"){var days=options.expires,t=options.expires=new Date;t.setMilliseconds(t.getMilliseconds()+days*864e5)}return document.cookie=[encode(key),"=",stringifyCookieValue(value),options.expires?"; expires="+options.expires.toUTCString():"",options.path?"; path="+options.path:"",options.domain?"; domain="+options.domain:"",options.secure?"; secure":""].join("")}var result=key?undefined:{},cookies=document.cookie?document.cookie.split("; "):[],i=0,l=cookies.length;for(;i<l;i++){var parts=cookies[i].split("="),name=decode(parts.shift()),cookie=parts.join("=");if(key===name){result=read(cookie,value);break}if(!key&&(cookie=read(cookie))!==undefined){result[name]=cookie}}return result};config.defaults={};$.removeCookie=function(key,options){$.cookie(key,"",$.extend({},options,{expires:-1}));return!$.cookie(key)}});(function($){$.fn.alphanum=function(settings){var combinedSettings=getCombinedSettingsAlphaNum(settings);var $collection=this;setupEventHandlers($collection,trimAlphaNum,combinedSettings);return this};$.fn.alpha=function(settings){var defaultAlphaSettings=getCombinedSettingsAlphaNum("alpha");var combinedSettings=getCombinedSettingsAlphaNum(settings,defaultAlphaSettings);var $collection=this;setupEventHandlers($collection,trimAlphaNum,combinedSettings);return this};$.fn.numeric=function(settings){var combinedSettings=getCombinedSettingsNum(settings);var $collection=this;setupEventHandlers($collection,trimNum,combinedSettings);$collection.blur(function(){numericField_Blur(this,settings)});return this};var DEFAULT_SETTINGS_ALPHANUM={allow:"",disallow:"",allowSpace:true,allowNumeric:true,allowUpper:true,allowLower:true,allowCaseless:true,allowLatin:true,allowOtherCharSets:true,maxLength:NaN};var DEFAULT_SETTINGS_NUM={allowPlus:false,allowMinus:true,allowThouSep:true,allowDecSep:true,allowLeadingSpaces:false,maxDigits:NaN,maxDecimalPlaces:NaN,maxPreDecimalPlaces:NaN,max:NaN,min:NaN};var CONVENIENCE_SETTINGS_ALPHANUM={alpha:{allowNumeric:false},upper:{allowNumeric:false,allowUpper:true,allowLower:false,allowCaseless:true},lower:{allowNumeric:false,allowUpper:false,allowLower:true,allowCaseless:true}};var CONVENIENCE_SETTINGS_NUMERIC={integer:{allowPlus:false,allowMinus:true,allowThouSep:false,allowDecSep:false},positiveInteger:{allowPlus:false,allowMinus:false,allowThouSep:false,allowDecSep:false}};var BLACKLIST=getBlacklistAscii()+getBlacklistNonAscii();var THOU_SEP=",";var DEC_SEP=".";var DIGITS=getDigitsMap();var LATIN_CHARS=getLatinCharsSet();function getBlacklistAscii(){var blacklist="!@#$%^&*()+=[]\\';,/{}|\":<>?~`.-_";blacklist+=" ";return blacklist}function getBlacklistNonAscii(){var blacklist="¬"+"€"+"£"+"¦";return blacklist}function setupEventHandlers($textboxes,trimFunction,settings){$textboxes.each(function(){var $textbox=$(this);$textbox.bind("keyup change paste",function(e){var pastedText="";if(e.originalEvent&&e.originalEvent.clipboardData&&e.originalEvent.clipboardData.getData)pastedText=e.originalEvent.clipboardData.getData("text/plain");setTimeout(function(){trimTextbox($textbox,trimFunction,settings,pastedText)},0)});$textbox.bind("keypress",function(e){var charCode=!e.charCode?e.which:e.charCode;if(isControlKey(charCode)||e.ctrlKey||e.metaKey)return;var newChar=String.fromCharCode(charCode);var selectionObject=$textbox.selection();var start=selectionObject.start;var end=selectionObject.end;var textBeforeKeypress=$textbox.val();var potentialTextAfterKeypress=textBeforeKeypress.substring(0,start)+newChar+textBeforeKeypress.substring(end);var validatedText=trimFunction(potentialTextAfterKeypress,settings);if(validatedText!=potentialTextAfterKeypress)e.preventDefault()})})}function numericField_Blur(inputBox,settings){var fieldValueNumeric=parseFloat($(inputBox).val());var $inputBox=$(inputBox);if(isNaN(fieldValueNumeric)){$inputBox.val("");return}if(isNumeric(settings.min)&&fieldValueNumeric<settings.min)$inputBox.val("");if(isNumeric(settings.max)&&fieldValueNumeric>settings.max)$inputBox.val("")}function isNumeric(value){return!isNaN(value)}function isControlKey(charCode){if(charCode>=32)return false;if(charCode==10)return false;if(charCode==13)return false;return true}function trimTextbox($textBox,trimFunction,settings,pastedText){var inputString=$textBox.val();if(inputString==""&&pastedText.length>0)inputString=pastedText;var outputString=trimFunction(inputString,settings);if(inputString==outputString)return;var caretPos=$textBox.alphanum_caret();$textBox.val(outputString);if(inputString.length==outputString.length+1)$textBox.alphanum_caret(caretPos-1);else $textBox.alphanum_caret(caretPos)}function getCombinedSettingsAlphaNum(settings,defaultSettings){if(typeof defaultSettings=="undefined")defaultSettings=DEFAULT_SETTINGS_ALPHANUM;var userSettings,combinedSettings={};if(typeof settings==="string")userSettings=CONVENIENCE_SETTINGS_ALPHANUM[settings];else if(typeof settings=="undefined")userSettings={};else userSettings=settings;$.extend(combinedSettings,defaultSettings,userSettings);if(typeof combinedSettings.blacklist=="undefined")combinedSettings.blacklistSet=getBlacklistSet(combinedSettings.allow,combinedSettings.disallow);return combinedSettings}function getCombinedSettingsNum(settings){var userSettings,combinedSettings={};if(typeof settings==="string")userSettings=CONVENIENCE_SETTINGS_NUMERIC[settings];else if(typeof settings=="undefined")userSettings={};else userSettings=settings;$.extend(combinedSettings,DEFAULT_SETTINGS_NUM,userSettings);return combinedSettings}function alphanum_allowChar(validatedStringFragment,Char,settings){if(settings.maxLength&&validatedStringFragment.length>=settings.maxLength)return false;if(settings.allow.indexOf(Char)>=0)return true;if(settings.allowSpace&&Char==" ")return true;if(settings.blacklistSet.contains(Char))return false;if(!settings.allowNumeric&&DIGITS[Char])return false;if(!settings.allowUpper&&isUpper(Char))return false;if(!settings.allowLower&&isLower(Char))return false;if(!settings.allowCaseless&&isCaseless(Char))return false;if(!settings.allowLatin&&LATIN_CHARS.contains(Char))return false;if(!settings.allowOtherCharSets){if(DIGITS[Char]||LATIN_CHARS.contains(Char))return true;else return false}return true}function numeric_allowChar(validatedStringFragment,Char,settings){if(DIGITS[Char]){if(isMaxDigitsReached(validatedStringFragment,settings))return false;if(isMaxPreDecimalsReached(validatedStringFragment,settings))return false;if(isMaxDecimalsReached(validatedStringFragment,settings))return false;if(isGreaterThanMax(validatedStringFragment+Char,settings))return false;if(isLessThanMin(validatedStringFragment+Char,settings))return false;return true}if(settings.allowPlus&&Char=="+"&&validatedStringFragment=="")return true;if(settings.allowMinus&&Char=="-"&&validatedStringFragment=="")return true;if(Char==THOU_SEP&&settings.allowThouSep&&allowThouSep(validatedStringFragment,Char))return true;if(Char==DEC_SEP){if(validatedStringFragment.indexOf(DEC_SEP)>=0)return false;if(settings.allowDecSep)return true}return false}function countDigits(string){string=string+"";return string.replace(/[^0-9]/g,"").length}function isMaxDigitsReached(string,settings){var maxDigits=settings.maxDigits;if(maxDigits==""||isNaN(maxDigits))return false;var numDigits=countDigits(string);if(numDigits>=maxDigits)return true;return false}function isMaxDecimalsReached(string,settings){var maxDecimalPlaces=settings.maxDecimalPlaces;if(maxDecimalPlaces==""||isNaN(maxDecimalPlaces))return false;var indexOfDecimalPoint=string.indexOf(DEC_SEP);if(indexOfDecimalPoint==-1)return false;var decimalSubstring=string.substring(indexOfDecimalPoint);var numDecimals=countDigits(decimalSubstring);if(numDecimals>=maxDecimalPlaces)return true;return false}function isMaxPreDecimalsReached(string,settings){var maxPreDecimalPlaces=settings.maxPreDecimalPlaces;if(maxPreDecimalPlaces==""||isNaN(maxPreDecimalPlaces))return false;var indexOfDecimalPoint=string.indexOf(DEC_SEP);if(indexOfDecimalPoint>=0)return false;var numPreDecimalDigits=countDigits(string);if(numPreDecimalDigits>=maxPreDecimalPlaces)return true;return false}function isGreaterThanMax(numericString,settings){if(!settings.max||settings.max<0)return false;var outputNumber=parseFloat(numericString);if(outputNumber>settings.max)return true;return false}function isLessThanMin(numericString,settings){if(!settings.min||settings.min>0)return false;var outputNumber=parseFloat(numericString);if(outputNumber<settings.min)return true;return false}function trimAlphaNum(inputString,settings){if(typeof inputString!="string")return inputString;var inChars=inputString.split("");var outChars=[];var i=0;var Char;for(i=0;i<inChars.length;i++){Char=inChars[i];var validatedStringFragment=outChars.join("");if(alphanum_allowChar(validatedStringFragment,Char,settings))outChars.push(Char)}return outChars.join("")}function trimNum(inputString,settings){if(typeof inputString!="string")return inputString;var inChars=inputString.split("");var outChars=[];var i=0;var Char;for(i=0;i<inChars.length;i++){Char=inChars[i];var validatedStringFragment=outChars.join("");if(numeric_allowChar(validatedStringFragment,Char,settings))outChars.push(Char)}return outChars.join("")}function removeUpperCase(inputString){var charArray=inputString.split("");var i=0;var outputArray=[];var Char;for(i=0;i<charArray.length;i++){Char=charArray[i]}}function removeLowerCase(inputString){}function isUpper(Char){var upper=Char.toUpperCase();var lower=Char.toLowerCase();if(Char==upper&&upper!=lower)return true;else return false}function isLower(Char){var upper=Char.toUpperCase();var lower=Char.toLowerCase();if(Char==lower&&upper!=lower)return true;else return false}function isCaseless(Char){if(Char.toUpperCase()==Char.toLowerCase())return true;else return false}function getBlacklistSet(allow,disallow){var setOfBadChars=new Set(BLACKLIST+disallow);var setOfGoodChars=new Set(allow);var blacklistSet=setOfBadChars.subtract(setOfGoodChars);return blacklistSet}function getDigitsMap(){var array="0123456789".split("");var map={};var i=0;var digit;for(i=0;i<array.length;i++){digit=array[i];map[digit]=true}return map}function getLatinCharsSet(){var lower="abcdefghijklmnopqrstuvwxyz";var upper=lower.toUpperCase();var azAZ=new Set(lower+upper);return azAZ}function allowThouSep(currentString,Char){if(currentString.length==0)return false;var posOfDecSep=currentString.indexOf(DEC_SEP);if(posOfDecSep>=0)return false;var posOfFirstThouSep=currentString.indexOf(THOU_SEP);if(posOfFirstThouSep<0)return true;var posOfLastThouSep=currentString.lastIndexOf(THOU_SEP);var charsSinceLastThouSep=currentString.length-posOfLastThouSep-1;if(charsSinceLastThouSep<3)return false;var digitsSinceFirstThouSep=countDigits(currentString.substring(posOfFirstThouSep));if(digitsSinceFirstThouSep%3>0)return false;return true}function Set(elems){if(typeof elems=="string")this.map=stringToMap(elems);else this.map={}}Set.prototype.add=function(set){var newSet=this.clone();for(var key in set.map)newSet.map[key]=true;return newSet};Set.prototype.subtract=function(set){var newSet=this.clone();for(var key in set.map)delete newSet.map[key];return newSet};Set.prototype.contains=function(key){if(this.map[key])return true;else return false};Set.prototype.clone=function(){var newSet=new Set;for(var key in this.map)newSet.map[key]=true;return newSet};function stringToMap(string){var map={};var array=string.split("");var i=0;var Char;for(i=0;i<array.length;i++){Char=array[i];map[Char]=true}return map}$.fn.alphanum.backdoorAlphaNum=function(inputString,settings){var combinedSettings=getCombinedSettingsAlphaNum(settings);return trimAlphaNum(inputString,combinedSettings)};$.fn.alphanum.backdoorNumeric=function(inputString,settings){var combinedSettings=getCombinedSettingsNum(settings);return trimNum(inputString,combinedSettings)};$.fn.alphanum.setNumericSeparators=function(settings){if(settings.thousandsSeparator.length!=1)return;if(settings.decimalSeparator.length!=1)return;THOU_SEP=settings.thousandsSeparator;DEC_SEP=settings.decimalSeparator}})(jQuery);(function($){function caretTo(el,index){if(el.createTextRange){var range=el.createTextRange();range.move("character",index);range.select()}else if(el.selectionStart!=null){el.focus();el.setSelectionRange(index,index)}}function caretPos(el){if("selection"in document){var range=el.createTextRange();try{range.setEndPoint("EndToStart",document.selection.createRange())}catch(e){return 0}return range.text.length}else if(el.selectionStart!=null){return el.selectionStart}}$.fn.alphanum_caret=function(index,offset){if(typeof index==="undefined"){return caretPos(this.get(0))}return this.queue(function(next){if(isNaN(index)){var i=$(this).val().indexOf(index);if(offset===true){i+=index.length}else if(typeof offset!=="undefined"){i+=offset}caretTo(this,i)}else{caretTo(this,index)}next()})}})(jQuery);(function($){var convertType=function(type){return type.replace(/([a-z])([a-z]+)/gi,function(all,first,next){return first+next.toLowerCase()}).replace(/_/g,"")},reverse=function(type){return type.replace(/^([a-z]+)_TO_([a-z]+)/i,function(all,first,last){return last+"_TO_"+first})},getWindow=function(element){return element?element.ownerDocument.defaultView||element.ownerDocument.parentWindow:window},getElementsSelection=function(el,win){var current=$.Range.current(el).clone(),entireElement=$.Range(el).select(el);if(!current.overlaps(entireElement)){return null}if(current.compare("START_TO_START",entireElement)<1){var startPos=0;current.move("START_TO_START",entireElement)}else{var fromElementToCurrent=entireElement.clone();fromElementToCurrent.move("END_TO_START",current);startPos=fromElementToCurrent.toString().length}var endPos;if(current.compare("END_TO_END",entireElement)>=0){endPos=entireElement.toString().length}else{endPos=startPos+current.toString().length}return{start:startPos,end:endPos}},getSelection=function(el){var win=getWindow(el);if(el.selectionStart!==undefined){if(document.activeElement&&document.activeElement!==el&&el.selectionStart===el.selectionEnd&&el.selectionStart===0){return{start:el.value.length,end:el.value.length}}return{start:el.selectionStart,end:el.selectionEnd}}else if(win.getSelection){return getElementsSelection(el,win)}else{try{if(el.nodeName.toLowerCase()==="input"){var real=getWindow(el).document.selection.createRange(),r=el.createTextRange();r.setEndPoint("EndToStart",real);var start=r.text.length;return{start:start,end:start+real.text.length}}else{var res=getElementsSelection(el,win);if(!res){return res}var current=$.Range.current().clone(),r2=current.clone().collapse().range,r3=current.clone().collapse(false).range;r2.moveStart("character",-1);r3.moveStart("character",-1);if(res.startPos!==0&&r2.text===""){res.startPos+=2}if(res.endPos!==0&&r3.text===""){res.endPos+=2}return res}}catch(e){return{start:el.value.length,end:el.value.length}}}},select=function(el,start,end){var win=getWindow(el);if(el.setSelectionRange){if(end===undefined){el.focus();el.setSelectionRange(start,start)}else{el.select();el.selectionStart=start;el.selectionEnd=end}}else if(el.createTextRange){var r=el.createTextRange();r.moveStart("character",start);end=end||start;r.moveEnd("character",end-el.value.length);r.select()}else if(win.getSelection){var doc=win.document,sel=win.getSelection(),range=doc.createRange(),ranges=[start,end!==undefined?end:start];getCharElement([el],ranges);range.setStart(ranges[0].el,ranges[0].count);range.setEnd(ranges[1].el,ranges[1].count);sel.removeAllRanges();sel.addRange(range)}else if(win.document.body.createTextRange){var range=document.body.createTextRange();range.moveToElementText(el);range.collapse();range.moveStart("character",start);range.moveEnd("character",end!==undefined?end:start);range.select()}},replaceWithLess=function(start,len,range,el){if(typeof range[0]==="number"&&range[0]<len){range[0]={el:el,count:range[0]-start}}if(typeof range[1]==="number"&&range[1]<=len){range[1]={el:el,count:range[1]-start}}},getCharElement=function(elems,range,len){var elem,start;len=len||0;for(var i=0;elems[i];i++){elem=elems[i];if(elem.nodeType===3||elem.nodeType===4){start=len;len+=elem.nodeValue.length;replaceWithLess(start,len,range,elem)}else if(elem.nodeType!==8){len=getCharElement(elem.childNodes,range,len)}}return len};$.fn.selection=function(start,end){if(start!==undefined){return this.each(function(){select(this,start,end)})}else{return getSelection(this[0])}};$.fn.selection.getCharElement=getCharElement})(jQuery);(function($){$.fn.serializeForm=function(){if(this.length<1){return false}var data={};var lookup=data;var selector=':input[type!="checkbox"][type!="radio"], input:checked';var parse=function(){if(this.disabled){return}var named=this.name.replace(/\[([^\]]+)?\]/g,",$1").split(",");var cap=named.length-1;var $el=$(this);if(named[0]){for(var i=0;i<cap;i++){lookup=lookup[named[i]]=lookup[named[i]]||(named[i+1]===""||named[i+1]==="0"?[]:{})}if(lookup.length!==undefined){lookup.push($el.val())}else{lookup[named[cap]]=$el.val()}lookup=data}};this.filter(selector).each(parse);this.find(selector).each(parse);return data}})(jQuery);(function(jQuery){jQuery.fn.typeWatch=function(o){var _supportedInputTypes=["TEXT","TEXTAREA","PASSWORD","TEL","SEARCH","URL","EMAIL","DATETIME","DATE","MONTH","WEEK","TIME","DATETIME-LOCAL","NUMBER","RANGE"];var options=jQuery.extend({wait:750,callback:function(){},highlight:true,captureLength:2,inputTypes:_supportedInputTypes},o);function checkElement(timer,override){var value=jQuery(timer.el).val();if(value.length>=options.captureLength&&value.toUpperCase()!=timer.text||override&&value.length>=options.captureLength){timer.text=value.toUpperCase();timer.cb.call(timer.el,value)}}function watchElement(elem){var elementType=elem.type.toUpperCase();if(jQuery.inArray(elementType,options.inputTypes)>=0){var timer={timer:null,text:jQuery(elem).val().toUpperCase(),cb:options.callback,el:elem,wait:options.wait};if(options.highlight){jQuery(elem).focus(function(){this.select()})}var startWatch=function(evt){var timerWait=timer.wait;var overrideBool=false;var evtElementType=this.type.toUpperCase();if(typeof evt.keyCode!="undefined"&&evt.keyCode==13&&evtElementType!="TEXTAREA"&&jQuery.inArray(evtElementType,options.inputTypes)>=0){timerWait=1;overrideBool=true}var timerCallbackFx=function(){checkElement(timer,overrideBool)};clearTimeout(timer.timer);timer.timer=setTimeout(timerCallbackFx,timerWait)};jQuery(elem).on("keydown paste cut input",startWatch)}}return this.each(function(){watchElement(this)})}})(jQuery);function collapse(evt){var collapser=evt.target;var target=collapser.parentNode.getElementsByClassName("collapsible");if(!target.length){return}target=target[0];if(target.style.display==="none"){var ellipsis=target.parentNode.getElementsByClassName("ellipsis")[0];target.parentNode.removeChild(ellipsis);target.style.display=""}else{target.style.display="none";var ellipsis=document.createElement("span");ellipsis.className="ellipsis";ellipsis.innerHTML=" &hellip; ";target.parentNode.insertBefore(ellipsis,target)}collapser.innerHTML=collapser.innerHTML==="-"?"+":"-"}function addCollapser(item){if(item.nodeName!=="LI"){return}var collapser=document.createElement("div");collapser.className="collapser";collapser.innerHTML="-";collapser.addEventListener("click",collapse,false);item.insertBefore(collapser,item.firstChild)}function jsonView(id,target){this.debug=false;if(id.indexOf("#")!==-1){this.idType="id";this.id=id.replace("#","")}else if(id.indexOf(".")!==-1){this.idType="class";this.id=id.replace(".","")}else{if(this.debug){console.log("Can't find that element")}return}this.data=document.getElementById(this.id).innerHTML;if(typeof target!==undefined){if(target.indexOf("#")!==-1){this.targetType="id";this.target=target.replace("#","")}else if(id.indexOf(".")!==-1){this.targetType="class";this.target=target.replace(".","")}else{if(this.debug){console.log("Can't find the target element")}return}}if(/^\<pre.*\>(.*)\<\/pre\>$/.test(this.data)){if(this.debug){console.log("JSONView: data is wrapped in <pre>...</pre>, stripping HTML...")}this.data=this.data.replace(/<(?:.|\s)*?>/g,"")}var json_regex=/^\s*([\[\{].*[\}\]])\s*$/;var jsonp_regex=/^[\s\u200B\uFEFF]*([\w$\[\]\.]+)[\s\u200B\uFEFF]*\([\s\u200B\uFEFF]*([\[{][\s\S]*[\]}])[\s\u200B\uFEFF]*\);?[\s\u200B\uFEFF]*$/;var jsonp_regex2=/([\[\{][\s\S]*[\]\}])\)/;var is_json=json_regex.test(this.data);var is_jsonp=jsonp_regex.test(this.data);if(this.debug){console.log("JSONView: is_json="+is_json+" is_jsonp="+is_jsonp)}if(is_json||is_jsonp){if(this.debug){console.log("JSONView: sexytime!")}function JSONFormatter(){}JSONFormatter.prototype={htmlEncode:function(t){return t!=null?t.toString().replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):""},decorateWithSpan:function(value,className){return'<span class="'+className+'">'+this.htmlEncode(value)+"</span>"},valueToHTML:function(value){var valueType=typeof value;var output="";if(value===null){output+=this.decorateWithSpan("null","null")}else if(value&&value.constructor===Array){output+=this.arrayToHTML(value)}else if(valueType==="object"){output+=this.objectToHTML(value)}else if(valueType==="number"){output+=this.decorateWithSpan(value,"num")}else if(valueType==="string"){if(/^(http|https):\/\/[^\s]+$/.test(value)){output+='<a href="'+value+'">'+this.htmlEncode(value)+"</a>"}else{output+=this.decorateWithSpan('"'+value+'"',"string")}}else if(valueType==="boolean"){output+=this.decorateWithSpan(value,"bool")}return output},arrayToHTML:function(json){var output='[<ul class="array collapsible">';var hasContents=false;for(var prop in json){hasContents=true;output+="<li>";output+=this.valueToHTML(json[prop]);output+="</li>"}output+="</ul>]";if(!hasContents){output="[ ]"}return output},objectToHTML:function(json){var output='{<ul class="obj collapsible">';var hasContents=false;for(var prop in json){hasContents=true;output+="<li>";output+='<span class="prop">'+this.htmlEncode(prop)+"</span>: ";output+=this.valueToHTML(json[prop]);output+="</li>"}output+="</ul>}";if(!hasContents){output="{ }"}return output},jsonToHTML:function(json,callback,uri){var output="";if(callback){output+='<div class="callback">'+callback+" (</div>";output+='<div id="json">'}else{output+='<div id="json">'}output+=this.valueToHTML(json);output+="</div>";if(callback){output+='<div class="callback">)</div>'}return this.toHTML(output,uri)},errorPage:function(error,data,uri){var output='<div id="error">Error parsing JSON: '+error.message+"</div>";output+="<h1>"+error.stack+":</h1>";output+='<div id="json">'+this.htmlEncode(data)+"</div>";return this.toHTML(output,uri+" - Error")},toHTML:function(content){return content}};this.jsonFormatter=new JSONFormatter;var outputDoc="";var cleanData="",callback="";var callback_results=jsonp_regex.exec(this.data);if(callback_results&&callback_results.length===3){if(this.debug){console.log("THIS IS JSONp")}callback=callback_results[1];cleanData=callback_results[2]}else{if(this.debug){console.log("Vanilla JSON")}cleanData=this.data}if(this.debug){console.log(cleanData)}try{var jsonObj=JSON.parse(cleanData);if(jsonObj){outputDoc=this.jsonFormatter.jsonToHTML(jsonObj,callback)}else{throw"There was no object!"}}catch(e){if(this.debug){console.log(e)}outputDoc=this.jsonFormatter.errorPage(e,this.data)}var links="<style type=\"text/css\">.jsonViewOutput .prop{font-weight:700;}.jsonViewOutput .null{color:red;}.jsonViewOutput .string{color:green;}.jsonViewOutput .collapser{position:absolute;left:-1em;cursor:pointer;}.jsonViewOutput li{position:relative;}.jsonViewOutput li:after{content:',';}.jsonViewOutput li:last-child:after{content:'';}.jsonViewOutput #error{-moz-border-radius:8px;border:1px solid #970000;background-color:#F7E8E8;margin:.5em;padding:.5em;}.jsonViewOutput .errormessage{font-family:monospace;}.jsonViewOutput #json{font-family:monospace;font-size:1.1em;}.jsonViewOutput ul{list-style:none;margin:0 0 0 2em;padding:0;}.jsonViewOutput h1{font-size:1.2em;}.jsonViewOutput .callback + #json{padding-left:1em;}.jsonViewOutput .callback{font-family:monospace;color:#A52A2A;}.jsonViewOutput .bool,.jsonViewOutput .num{color:blue;}</style>";if(this.targetType!==undefined){this.idType=this.targetType;this.id=this.target}var el;if(this.idType==="class"){el=document.getElementsByClassName(this.id);if(el){el.className+=el.className?" jsonViewOutput":"jsonViewOutput";el.innerHTML=links+outputDoc}}else if(this.idType==="id"){el=document.getElementById(this.id);if(el){el.className+=el.className?" jsonViewOutput":"jsonViewOutput";el.innerHTML=links+outputDoc}el.innerHTML=links+outputDoc}var items=document.getElementsByClassName("collapsible");for(var i=0;i<items.length;i++){addCollapser(items[i].parentNode)}}else{}}