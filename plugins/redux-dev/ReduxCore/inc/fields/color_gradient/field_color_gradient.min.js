!function(a){"use strict";redux.field_objects=redux.field_objects||{},redux.field_objects.color_gradient=redux.field_objects.color_gradient||{};var t=!0;redux.field_objects.color_gradient.init=function(e){e||(e=a(document).find(".redux-group-tab:visible").find(".redux-container-color_gradient:visible")),a(e).each(function(){var i=a(this),e=i;i.hasClass("redux-field-container")||(e=i.parents(".redux-field-container:first")),e.is(":hidden")||e.hasClass("redux-field-init")&&(e.removeClass("redux-field-init"),void 0===redux.field_objects.pro&&(t=!1),i.find(".redux-color-init").wpColorPicker({change:function(e,r){a(this).val(r.color.toString()),t&&redux.field_objects.pro.gradient_filters.changeValue(a(this),!0,"color_gradient"),i.find("#"+e.target.getAttribute("data-id")+"-transparency").removeAttr("checked")},clear:function(e,r){a(this).val(""),t&&redux.field_objects.pro.gradient_filters.changeValue(a(this).parent().find(".redux-color-init"),!0,"color_gradient")}}),i.find(".redux-color").on("keyup",function(){var e=a(this).val(),r=colorValidate(this),t="#"+a(this).attr("id");"transparent"===e?(a(this).parent().parent().find(".wp-color-result").css("background-color","transparent"),i.find(t+"-transparency").attr("checked","checked")):(i.find(t+"-transparency").removeAttr("checked"),r&&r!==a(this).val()&&a(this).val(r))}),i.find(".redux-color").on("blur",function(){var e=a(this).val(),r="#"+a(this).attr("id");"transparent"===e?(a(this).parent().parent().find(".wp-color-result").css("background-color","transparent"),i.find(r+"-transparency").attr("checked","checked")):(colorValidate(this)===e&&0!==e.indexOf("#")&&a(this).val(a(this).data("oldcolor")),i.find(r+"-transparency").removeAttr("checked"))}),i.find(".redux-color").on("keydown",function(){a(this).data("oldkeypress",a(this).val())}),i.find(".color-transparency").on("click",function(){if(a(this).is(":checked"))i.find(".redux-saved-color").val(a("#"+a(this).data("id")).val()),i.find("#"+a(this).data("id")).val("transparent"),i.find("#"+a(this).data("id")).parent().parent().find(".wp-color-result").css("background-color","transparent");else if("transparent"===i.find("#"+a(this).data("id")).val()){var e=a(".redux-saved-color").val();""===e&&(e=a("#"+a(this).data("id")).data("default-color")),i.find("#"+a(this).data("id")).parent().parent().find(".wp-color-result").css("background-color",e),i.find("#"+a(this).data("id")).val(e)}t&&redux.field_objects.pro.gradient_filters.changeValue(a(this),!0,"color_gradient")}))})}}(jQuery);