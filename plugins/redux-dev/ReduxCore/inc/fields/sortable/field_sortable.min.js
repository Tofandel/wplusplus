!function(e){"use strict";redux.field_objects=redux.field_objects||{},redux.field_objects.sortable=redux.field_objects.sortable||{};var i="";redux.field_objects.sortable.init=function(r){r||(r=e(document).find(".redux-group-tab:visible").find(".redux-container-sortable:visible")),e(r).each(function(){var r=e(this),s=r;r.hasClass("redux-field-container")||(s=r.parents(".redux-field-container:first")),s.is(":hidden")||s.hasClass("redux-field-init")&&(s.removeClass("redux-field-init"),r.find(".redux-sortable").sortable({handle:".drag",placeholder:"placeholder",opacity:.7,scroll:!1,out:function(r,s){s.helper&&(i=s.offset.top>0?"down":"up",redux.field_objects.sortable.scrolling(e(this).parents(".redux-field-container:first")))},over:function(e,r){i=""},deactivate:function(e,r){i=""},update:function(i,r){redux_change(e(this))}}),r.find(".redux-sortable i.visibility").on("click",function(){var i,r=e(this).parents("li");r.hasClass("invisible")?(r.removeClass("invisible"),i=1):(r.addClass("invisible"),i="");var s=r.find('input[type="hidden"]');s.val(i)}))})},redux.field_objects.sortable.scrolling=function(e){if(void 0!==e){var r=e.find(".redux-sorter");"up"==i?(r.scrollTop(r.scrollTop()-20),setTimeout(redux.field_objects.sortable.scrolling,50)):"down"==i&&(r.scrollTop(r.scrollTop()+20),setTimeout(redux.field_objects.sortable.scrolling,50))}}}(jQuery);